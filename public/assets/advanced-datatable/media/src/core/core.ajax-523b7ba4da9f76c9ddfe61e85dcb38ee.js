function _fnAjaxUpdate(a){if(a.bAjaxDataGet){a.iDraw++,_fnProcessingDisplay(a,!0);var e=(a.aoColumns.length,_fnAjaxParameters(a));return _fnServerParams(a,e),a.fnServerData.call(a.oInstance,a.sAjaxSource,e,function(e){_fnAjaxUpdateDraw(a,e)},a),!1}return!0}function _fnAjaxParameters(a){var e,r,n,o,s,l=a.aoColumns.length,t=[];for(t.push({name:"sEcho",value:a.iDraw}),t.push({name:"iColumns",value:l}),t.push({name:"sColumns",value:_fnColumnOrdering(a)}),t.push({name:"iDisplayStart",value:a._iDisplayStart}),t.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==!1?a._iDisplayLength:-1}),o=0;l>o;o++)e=a.aoColumns[o].mData,t.push({name:"mDataProp_"+o,value:"function"==typeof e?"function":e});if(a.oFeatures.bFilter!==!1)for(t.push({name:"sSearch",value:a.oPreviousSearch.sSearch}),t.push({name:"bRegex",value:a.oPreviousSearch.bRegex}),o=0;l>o;o++)t.push({name:"sSearch_"+o,value:a.aoPreSearchCols[o].sSearch}),t.push({name:"bRegex_"+o,value:a.aoPreSearchCols[o].bRegex}),t.push({name:"bSearchable_"+o,value:a.aoColumns[o].bSearchable});if(a.oFeatures.bSort!==!1){var i=0;for(r=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice(),o=0;o<r.length;o++)for(n=a.aoColumns[r[o][0]].aDataSort,s=0;s<n.length;s++)t.push({name:"iSortCol_"+i,value:n[s]}),t.push({name:"sSortDir_"+i,value:r[o][1]}),i++;for(t.push({name:"iSortingCols",value:i}),o=0;l>o;o++)t.push({name:"bSortable_"+o,value:a.aoColumns[o].bSortable})}return t}function _fnServerParams(a,e){_fnCallbackFire(a,"aoServerParams","serverParams",[e])}function _fnAjaxUpdateDraw(a,e){if(void 0!==e.sEcho){if(1*e.sEcho<a.iDraw)return;a.iDraw=1*e.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&_fnClearTable(a),a._iRecordsTotal=parseInt(e.iTotalRecords,10),a._iRecordsDisplay=parseInt(e.iTotalDisplayRecords,10);var r,n=_fnColumnOrdering(a),o=void 0!==e.sColumns&&""!==n&&e.sColumns!=n;o&&(r=_fnReOrderIndex(a,e.sColumns));for(var s=_fnGetObjectDataFn(a.sAjaxDataProp)(e),l=0,t=s.length;t>l;l++)if(o){for(var i=[],u=0,f=a.aoColumns.length;f>u;u++)i.push(s[l][r[u]]);_fnAddData(a,i)}else _fnAddData(a,s[l]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,_fnDraw(a),a.bAjaxDataGet=!0,_fnProcessingDisplay(a,!1)}