this.$=function(e,n){var t,a,i,o=[],r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),s=r.aoData,l=r.aiDisplay,f=r.aiDisplayMaster;if(n||(n={}),n=$.extend({},{filter:"none",order:"current",page:"all"},n),"current"==n.page)for(t=r._iDisplayStart,a=r.fnDisplayEnd();a>t;t++)i=s[l[t]].nTr,i&&o.push(i);else if("current"==n.order&&"none"==n.filter)for(t=0,a=f.length;a>t;t++)i=s[f[t]].nTr,i&&o.push(i);else if("current"==n.order&&"applied"==n.filter)for(t=0,a=l.length;a>t;t++)i=s[l[t]].nTr,i&&o.push(i);else if("original"==n.order&&"none"==n.filter)for(t=0,a=s.length;a>t;t++)i=s[t].nTr,i&&o.push(i);else if("original"==n.order&&"applied"==n.filter)for(t=0,a=s.length;a>t;t++)i=s[t].nTr,-1!==$.inArray(t,l)&&i&&o.push(i);else _fnLog(r,1,"Unknown selection options");var d=$(o),p=d.filter(e),h=d.find(e);return $([].concat($.makeArray(p),$.makeArray(h)))},this._=function(e,n){var t,a,i=[],o=this.$(e,n);for(t=0,a=o.length;a>t;t++)i.push(this.fnGetData(o[t]));return i},this.fnAddData=function(e,n){if(0===e.length)return[];var t,a=[],i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var o=0;o<e.length;o++){if(t=_fnAddData(i,e[o]),-1==t)return a;a.push(t)}else{if(t=_fnAddData(i,e),-1==t)return a;a.push(t)}return i.aiDisplay=i.aiDisplayMaster.slice(),(void 0===n||n)&&_fnReDraw(i),a},this.fnAdjustColumnSizing=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(n),void 0===e||e?this.fnDraw(!1):(""!==n.oScroll.sX||""!==n.oScroll.sY)&&this.oApi._fnScrollDraw(n)},this.fnClearTable=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(n),(void 0===e||e)&&_fnDraw(n)},this.fnClose=function(e){for(var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),t=0;t<n.aoOpenRows.length;t++)if(n.aoOpenRows[t].nParent==e){var a=n.aoOpenRows[t].nTr.parentNode;return a&&a.removeChild(n.aoOpenRows[t].nTr),n.aoOpenRows.splice(t,1),0}return 1},this.fnDeleteRow=function(e,n,t){var a,i,o,r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);o="object"==typeof e?_fnNodeToDataIndex(r,e):e;var s=r.aoData.splice(o,1);for(a=0,i=r.aoData.length;i>a;a++)null!==r.aoData[a].nTr&&(r.aoData[a].nTr._DT_RowIndex=a);var l=$.inArray(o,r.aiDisplay);return r.asDataSearch.splice(l,1),_fnDeleteIndex(r.aiDisplayMaster,o),_fnDeleteIndex(r.aiDisplay,o),"function"==typeof n&&n.call(this,r,s),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0)),(void 0===t||t)&&(_fnCalculateEnd(r),_fnDraw(r)),s},this.fnDestroy=function(e){var n,t,a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i=a.nTableWrapper.parentNode,o=a.nTBody;if(e=void 0===e?!1:e,a.bDestroying=!0,_fnCallbackFire(a,"aoDestroyCallback","destroy",[a]),!e)for(n=0,t=a.aoColumns.length;t>n;n++)a.aoColumns[n].bVisible===!1&&this.fnSetColumnVis(n,!0);for($(a.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove(),a.nTable!=a.nTHead.parentNode&&($(a.nTable).children("thead").remove(),a.nTable.appendChild(a.nTHead)),a.nTFoot&&a.nTable!=a.nTFoot.parentNode&&($(a.nTable).children("tfoot").remove(),a.nTable.appendChild(a.nTFoot)),a.nTable.parentNode.removeChild(a.nTable),$(a.nTableWrapper).remove(),a.aaSorting=[],a.aaSortingFixed=[],_fnSortingClasses(a),$(_fnGetTrNodes(a)).removeClass(a.asStripeClasses.join(" ")),$("th, td",a.nTHead).removeClass([a.oClasses.sSortable,a.oClasses.sSortableAsc,a.oClasses.sSortableDesc,a.oClasses.sSortableNone].join(" ")),a.bJUI&&($("th span."+a.oClasses.sSortIcon+", td span."+a.oClasses.sSortIcon,a.nTHead).remove(),$("th, td",a.nTHead).each(function(){var e=$("div."+a.oClasses.sSortJUIWrapper,this),n=e.contents();$(this).append(n),e.remove()})),!e&&a.nTableReinsertBefore?i.insertBefore(a.nTable,a.nTableReinsertBefore):e||i.appendChild(a.nTable),n=0,t=a.aoData.length;t>n;n++)null!==a.aoData[n].nTr&&o.appendChild(a.aoData[n].nTr);if(a.oFeatures.bAutoWidth===!0&&(a.nTable.style.width=_fnStringToCss(a.sDestroyWidth)),t=a.asDestroyStripes.length){var r=$(o).children("tr");for(n=0;t>n;n++)r.filter(":nth-child("+t+"n + "+n+")").addClass(a.asDestroyStripes[n])}for(n=0,t=DataTable.settings.length;t>n;n++)DataTable.settings[n]==a&&DataTable.settings.splice(n,1);a=null,oInit=null},this.fnDraw=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e===!1?(_fnCalculateEnd(n),_fnDraw(n)):_fnReDraw(n)},this.fnFilter=function(e,n,t,a,i,o){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(r.oFeatures.bFilter)if((void 0===t||null===t)&&(t=!1),(void 0===a||null===a)&&(a=!0),(void 0===i||null===i)&&(i=!0),(void 0===o||null===o)&&(o=!0),void 0===n||null===n){if(_fnFilterComplete(r,{sSearch:e+"",bRegex:t,bSmart:a,bCaseInsensitive:o},1),i&&r.aanFeatures.f)for(var s=r.aanFeatures.f,l=0,f=s.length;f>l;l++)try{s[l]._DT_Input!=document.activeElement&&$(s[l]._DT_Input).val(e)}catch(d){$(s[l]._DT_Input).val(e)}}else $.extend(r.aoPreSearchCols[n],{sSearch:e+"",bRegex:t,bSmart:a,bCaseInsensitive:o}),_fnFilterComplete(r,r.oPreviousSearch,1)},this.fnGetData=function(e,n){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(void 0!==e){var a=e;if("object"==typeof e){var i=e.nodeName.toLowerCase();"tr"===i?a=_fnNodeToDataIndex(t,e):"td"===i&&(a=_fnNodeToDataIndex(t,e.parentNode),n=_fnNodeToColumnIndex(t,a,e))}return void 0!==n?_fnGetCellData(t,a,n,""):void 0!==t.aoData[a]?t.aoData[a]._aData:null}return _fnGetDataMaster(t)},this.fnGetNodes=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return void 0!==e?void 0!==n.aoData[e]?n.aoData[e].nTr:null:_fnGetTrNodes(n)},this.fnGetPosition=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),t=e.nodeName.toUpperCase();if("TR"==t)return _fnNodeToDataIndex(n,e);if("TD"==t||"TH"==t){var a=_fnNodeToDataIndex(n,e.parentNode),i=_fnNodeToColumnIndex(n,a,e);return[a,_fnColumnIndexToVisible(n,i),i]}return null},this.fnIsOpen=function(e){for(var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),t=(n.aoOpenRows,0);t<n.aoOpenRows.length;t++)if(n.aoOpenRows[t].nParent==e)return!0;return!1},this.fnOpen=function(e,n,t){var a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i=_fnGetTrNodes(a);if(-1!==$.inArray(e,i)){this.fnClose(e);var o=document.createElement("tr"),r=document.createElement("td");o.appendChild(r),r.className=t,r.colSpan=_fnVisbleColumns(a),"string"==typeof n?r.innerHTML=n:$(r).html(n);var s=$("tr",a.nTBody);return-1!=$.inArray(e,s)&&$(o).insertAfter(e),a.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(e,n){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(t,e),_fnCalculateEnd(t),(void 0===n||n)&&_fnDraw(t)},this.fnSetColumnVis=function(e,n,t){var a,i,o,r,s,l=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),f=l.aoColumns,d=l.aoData;if(f[e].bVisible!=n){if(n){var p=0;for(a=0;e>a;a++)f[a].bVisible&&p++;if(r=p>=_fnVisbleColumns(l),!r)for(a=e;a<f.length;a++)if(f[a].bVisible){s=a;break}for(a=0,i=d.length;i>a;a++)null!==d[a].nTr&&(r?d[a].nTr.appendChild(d[a]._anHidden[e]):d[a].nTr.insertBefore(d[a]._anHidden[e],_fnGetTdNodes(l,a)[s]))}else for(a=0,i=d.length;i>a;a++)null!==d[a].nTr&&(o=_fnGetTdNodes(l,a)[e],d[a]._anHidden[e]=o,o.parentNode.removeChild(o));for(f[e].bVisible=n,_fnDrawHead(l,l.aoHeader),l.nTFoot&&_fnDrawHead(l,l.aoFooter),a=0,i=l.aoOpenRows.length;i>a;a++)l.aoOpenRows[a].nTr.colSpan=_fnVisbleColumns(l);(void 0===t||t)&&(_fnAdjustColumnSizing(l),_fnDraw(l)),_fnSaveState(l)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);n.aaSorting=e,_fnSort(n)},this.fnSortListener=function(e,n,t){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e,n,t)},this.fnUpdate=function(e,n,t,a,i){var o,r,s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),l="object"==typeof n?_fnNodeToDataIndex(s,n):n;if($.isArray(e)&&void 0===t)for(s.aoData[l]._aData=e.slice(),o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,l,o),l,o,!1,!1);else if($.isPlainObject(e)&&void 0===t)for(s.aoData[l]._aData=$.extend(!0,{},e),o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,l,o),l,o,!1,!1);else{_fnSetCellData(s,l,t,e),r=_fnGetCellData(s,l,t,"display");var f=s.aoColumns[t];null!==f.fnRender&&(r=_fnRender(s,l,t),f.bUseRendered&&_fnSetCellData(s,l,t,r)),null!==s.aoData[l].nTr&&(_fnGetTdNodes(s,l)[t].innerHTML=r)}var d=$.inArray(l,s.aiDisplay);return s.asDataSearch[d]=_fnBuildSearchRow(s,_fnGetRowData(s,l,"filter",_fnGetColumns(s,"bSearchable"))),(void 0===i||i)&&_fnAdjustColumnSizing(s),(void 0===a||a)&&_fnReDraw(s),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck;