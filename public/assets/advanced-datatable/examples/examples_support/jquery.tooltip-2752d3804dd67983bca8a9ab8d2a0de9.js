!function(t){function e(e){f.parent||(f.parent=t('<div id="'+e.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),t.fn.bgiframe&&f.parent.bgiframe(),f.title=t("h3",f.parent),f.body=t("div.body",f.parent),f.url=t("div.url",f.parent))}function i(e){return t.data(e,"tooltip")}function o(e){i(this).delay?p=setTimeout(n,i(this).delay):n(),u=!!i(this).track,t(document.body).bind("mousemove",a),a(e)}function s(){if(!t.tooltip.blocked&&this!=l&&(this.tooltipText||i(this).bodyHandler)){if(l=this,h=this.tooltipText,i(this).bodyHandler){f.title.hide();var e=i(this).bodyHandler.call(this);e.nodeType||e.jquery?f.body.empty().append(e):f.body.html(e),f.body.show()}else if(i(this).showBody){var s=h.split(i(this).showBody);f.title.html(s.shift()).show(),f.body.empty();for(var n,a=0;n=s[a];a++)a>0&&f.body.append("<br/>"),f.body.append(n);f.body.hideWhenEmpty()}else f.title.html(h).show(),f.body.hide();i(this).showURL&&t(this).url()?f.url.html(t(this).url().replace("http://","")).show():f.url.hide(),f.parent.addClass(i(this).extraClass),i(this).fixPNG&&f.parent.fixPNG(),o.apply(this,arguments)}}function n(){p=null,c&&t.fn.bgiframe||!i(l).fade?f.parent.show():f.parent.is(":animated")?f.parent.stop().show().fadeTo(i(l).fade,l.tOpacity):f.parent.is(":visible")?f.parent.fadeTo(i(l).fade,l.tOpacity):f.parent.fadeIn(i(l).fade),a()}function a(e){if(!(t.tooltip.blocked||e&&"OPTION"==e.target.tagName)){if(!u&&f.parent.is(":visible")&&t(document.body).unbind("mousemove",a),null==l)return void t(document.body).unbind("mousemove",a);f.parent.removeClass("viewport-right").removeClass("viewport-bottom");var o=f.parent[0].offsetLeft,s=f.parent[0].offsetTop;if(e){o=e.pageX+i(l).left,s=e.pageY+i(l).top;var n="auto";i(l).positionLeft&&(n=t(window).width()-o,o="auto"),f.parent.css({left:o,right:n,top:s})}var d=r(),h=f.parent[0];d.x+d.cx<h.offsetLeft+h.offsetWidth&&(o-=h.offsetWidth+20+i(l).left,f.parent.css({left:o+"px"}).addClass("viewport-right")),d.y+d.cy<h.offsetTop+h.offsetHeight&&(s-=h.offsetHeight+20+i(l).top,f.parent.css({top:s+"px"}).addClass("viewport-bottom"))}}function r(){return{x:t(window).scrollLeft(),y:t(window).scrollTop(),cx:t(window).width(),cy:t(window).height()}}function d(){function e(){f.parent.removeClass(o.extraClass).hide().css("opacity","")}if(!t.tooltip.blocked){p&&clearTimeout(p),l=null;var o=i(this);c&&t.fn.bgiframe||!o.fade?e():f.parent.is(":animated")?f.parent.stop().fadeTo(o.fade,0,e):f.parent.stop().fadeOut(o.fade,e),i(this).fixPNG&&f.parent.unfixPNG()}}var l,h,p,f={},c=t.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),u=!1;t.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){t.tooltip.blocked=!t.tooltip.blocked}},t.fn.extend({tooltip:function(i){return i=t.extend({},t.tooltip.defaults,i),e(i),this.each(function(){t.data(this,"tooltip",i),this.tOpacity=f.parent.css("opacity"),this.tooltipText=this.title,t(this).removeAttr("title"),this.alt=""}).mouseover(s).mouseout(d).click(d)},fixPNG:c?function(){return this.each(function(){var e=t(this).css("backgroundImage");e.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(e=RegExp.$1,t(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+e+"')"}).each(function(){var e=t(this).css("position");"absolute"!=e&&"relative"!=e&&t(this).css("position","relative")}))})}:function(){return this},unfixPNG:c?function(){return this.each(function(){t(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){t(this)[t(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})}(jQuery);