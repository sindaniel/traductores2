!function(e){e.fn.extend({customSelect:function(s){if("undefined"==typeof document.body.style.maxHeight)return this;var t={customClass:"customSelect",mapClass:!0,mapStyle:!0},s=e.extend(t,s),n=s.customClass,a=function(s,t){var n=s.find(":selected"),a=t.children(":first"),i=n.html()||"&nbsp;";a.html(i),n.attr("disabled")?t.addClass(o("DisabledOption")):t.removeClass(o("DisabledOption")),setTimeout(function(){t.removeClass(o("Open")),e(document).off("mouseup."+o("Open"))},60)},o=function(e){return n+e};return this.each(function(){var t=e(this),i=e("<span />").addClass(o("Inner")),d=e("<span />");t.after(d.append(i)),d.addClass(n),s.mapClass&&d.addClass(t.attr("class")),s.mapStyle&&d.attr("style",t.attr("style")),t.addClass("hasCustomSelect").on("update",function(){a(t,d);var e=parseInt(t.outerWidth(),10)-(parseInt(d.outerWidth(),10)-parseInt(d.width(),10));d.css({display:"inline-block"});var s=d.outerHeight();t.attr("disabled")?d.addClass(o("Disabled")):d.removeClass(o("Disabled")),i.css({width:e,display:"inline-block"}),t.css({"-webkit-appearance":"menulist-button",width:d.outerWidth(),position:"absolute",opacity:0,height:s,fontSize:d.css("font-size")})}).on("change",function(){d.addClass(o("Changed")),a(t,d)}).on("keyup",function(e){d.hasClass(o("Open"))?(13==e.which||27==e.which)&&a(t,d):(t.blur(),t.focus())}).on("mousedown",function(){d.removeClass(o("Changed"))}).on("mouseup",function(s){d.hasClass(o("Open"))||(e("."+o("Open")).not(d).length>0&&"undefined"!=typeof InstallTrigger?t.focus():(d.addClass(o("Open")),s.stopPropagation(),e(document).one("mouseup."+o("Open"),function(s){s.target!=t.get(0)&&e.inArray(s.target,t.find("*").get())<0?t.blur():a(t,d)})))}).focus(function(){d.removeClass(o("Changed")).addClass(o("Focus"))}).blur(function(){d.removeClass(o("Focus")+" "+o("Open"))}).hover(function(){d.addClass(o("Hover"))},function(){d.removeClass(o("Hover"))}).trigger("update")})}})}(jQuery);